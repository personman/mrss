<?php /** @var \Mrss\Entity\Outlier[] $outliers */ ?>
<?php /** @var boolean $admin */ ?>

<?php if (count($outliers)): ?>
    <table class="table table-bordered outliers">
        <thead>
            <tr>
                <th>Benchmark</th>
                <th>Equation</th>
                <th>Value</th>
                <th>Problem</th>
                <?php if (empty($admin)): ?>
                <th>Action</th>
                <?php endif ?>
            </tr>
        </thead>
        <tbody>

        <?php foreach ($outliers as $outlier): ?>
            <tr>
                <td>
                    <?= $outlier['benchmark'] ?>
                </td>
                <td>
                    <?= $outlier['equation'] ?>
                </td>
                <td class="text-right">
                    <?= $outlier['value'] ?>
                </td>
                <td>
                    <?= $outlier['problem'] ?>
                </td>

                <?php if (empty($admin)): ?>
                    <td>
                        <?php if (!$outlier['computed']): ?>
                        <?php
                            $url = $this->url(
                                'data-entry/edit',
                                array(
                                    'benchmarkGroup' => $outlier['benchmarkGroupId']
                                ),
                                array('force_canonical' => true)
                            );

                            $url .= '#' . $outlier['dbColumn'];
                        ?>
                        <a href="<?= $url ?>">Edit</a>
                        <?php endif ?>
                    </td>
                <?php endif ?>
            </tr>

        <?php endforeach ?>

        </tbody>
    </table>

<?php else: ?>
    No outliers.
<?php endif ?>
